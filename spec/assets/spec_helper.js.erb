//= require support/chai
//= require support/sinon
//= require support/sinon-chai
//= require require
//= require support/phantomjs_shims

(function () {
  'use strict';

  var inTest = <%= Rails.env.test? %>;
  if (!inTest) { throw 'Not in Rails test environment'; }

  /* global window */
  window.expect = window.chai.expect;

  var globalSandbox;
  beforeEach(function () {
    globalSandbox = sinon.sandbox.create();
    globalSandbox.stub(window.console, 'warn', function (message) {
      throw message;
    });
  });

  afterEach(function () { globalSandbox.restore(); });

  require.config({
    map: {
      'routes': {
        'components/clothing_item_detailed_view': 'support/mock_react_class'
      }
    }
  });
})();
